{"ast":null,"code":"var _jsxFileName = \"D:\\\\TranThaiThanh_TranHuuMinhThuong_BaoCao_Nhom17\\\\frontend\\\\src\\\\components\\\\Events\\\\EventCard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useCallback } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addTocart } from \"../../redux/actions/cart\";\nimport { toast } from \"react-toastify\";\nimport { Card, CardContent, CardMedia, Typography, Button } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport CountDown from \"./CountDown\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles({\n  root: {\n    maxWidth: 345,\n    width: \"100%\",\n    height: \"auto\",\n    margin: \"1rem\",\n    \"&:hover\": {\n      boxShadow: \"0 4px 20px 0 rgba(0,0,0,0.12)\",\n      transform: \"scale(1.05)\",\n      transition: \"all 0.3s\"\n    }\n  },\n  media: {\n    height: 140\n  }\n});\nconst EventCard = _ref => {\n  _s();\n  var _data$images$;\n  let {\n    active,\n    data\n  } = _ref;\n  const classes = useStyles();\n  const {\n    cart\n  } = useSelector(state => state.cart);\n  const dispatch = useDispatch();\n  const addToCartHandler = useCallback(data => {\n    const isItemExists = cart === null || cart === void 0 ? void 0 : cart.some(i => i._id === data._id);\n    if (isItemExists) {\n      toast.error(\"Sản phẩm đã được thêm vào giỏ hàng!\");\n    } else {\n      if (data.stock < 1) {\n        toast.error(\"Số lượng sản phẩm đã hết!\");\n      } else {\n        const cartData = {\n          ...data,\n          qty: 1\n        };\n        dispatch(addTocart(cartData));\n        toast.success(\"Thêm vào giỏ hàng thành công!\");\n      }\n    }\n  }, [cart, dispatch]);\n  return /*#__PURE__*/_jsxDEV(Card, {\n    className: classes.root,\n    children: [/*#__PURE__*/_jsxDEV(CardMedia, {\n      className: classes.media,\n      image: (_data$images$ = data.images[0]) === null || _data$images$ === void 0 ? void 0 : _data$images$.url,\n      title: data.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        gutterBottom: true,\n        variant: \"h5\",\n        component: \"h2\",\n        children: data.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        color: \"textSecondary\",\n        component: \"p\",\n        children: data.description.length > 200 ? `${data.description.substring(0, 200)}...` : data.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CountDown, {\n        data: data\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: \"pt-2\",\n        variant: \"contained\",\n        color: \"primary\",\n        component: Link,\n        to: `/product/${data._id}?isEvent=true` // Add link to the product\n        ,\n        style: {\n          marginRight: \"10px\"\n        },\n        children: \"Xem chi ti\\u1EBFt\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"secondary\",\n        onClick: () => addToCartHandler(data),\n        children: \"Th\\xEAm v\\xE0o gi\\u1ECF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n_s(EventCard, \"TY9+STRAArAWD4aDTjTj3/zBaaY=\", false, function () {\n  return [useStyles, useSelector, useDispatch];\n});\n_c = EventCard;\nexport default EventCard;\nvar _c;\n$RefreshReg$(_c, \"EventCard\");","map":{"version":3,"names":["React","useCallback","useDispatch","useSelector","addTocart","toast","Card","CardContent","CardMedia","Typography","Button","makeStyles","CountDown","Link","jsxDEV","_jsxDEV","useStyles","root","maxWidth","width","height","margin","boxShadow","transform","transition","media","EventCard","_ref","_s","_data$images$","active","data","classes","cart","state","dispatch","addToCartHandler","isItemExists","some","i","_id","error","stock","cartData","qty","success","className","children","image","images","url","title","name","fileName","_jsxFileName","lineNumber","columnNumber","gutterBottom","variant","component","color","description","length","substring","to","style","marginRight","onClick","_c","$RefreshReg$"],"sources":["D:/TranThaiThanh_TranHuuMinhThuong_BaoCao_Nhom17/frontend/src/components/Events/EventCard.jsx"],"sourcesContent":["import React, { useCallback } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addTocart } from \"../../redux/actions/cart\";\nimport { toast } from \"react-toastify\";\nimport {\n  Card,\n  CardContent,\n  CardMedia,\n  Typography,\n  Button,\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport CountDown from \"./CountDown\";\nimport { Link } from \"react-router-dom\";\n\nconst useStyles = makeStyles({\n  root: {\n    maxWidth: 345,\n    width: \"100%\",\n    height: \"auto\",\n    margin: \"1rem\",\n    \"&:hover\": {\n      boxShadow: \"0 4px 20px 0 rgba(0,0,0,0.12)\",\n      transform: \"scale(1.05)\",\n      transition: \"all 0.3s\",\n    },\n  },\n  media: {\n    height: 140,\n  },\n});\n\nconst EventCard = ({ active, data }) => {\n  const classes = useStyles();\n  const { cart } = useSelector((state) => state.cart);\n  const dispatch = useDispatch();\n\n  const addToCartHandler = useCallback(\n    (data) => {\n      const isItemExists = cart?.some((i) => i._id === data._id);\n      if (isItemExists) {\n        toast.error(\"Sản phẩm đã được thêm vào giỏ hàng!\");\n      } else {\n        if (data.stock < 1) {\n          toast.error(\"Số lượng sản phẩm đã hết!\");\n        } else {\n          const cartData = { ...data, qty: 1 };\n          dispatch(addTocart(cartData));\n          toast.success(\"Thêm vào giỏ hàng thành công!\");\n        }\n      }\n    },\n    [cart, dispatch]\n  );\n\n  return (\n    <Card className={classes.root}>\n      <CardMedia\n        className={classes.media}\n        image={data.images[0]?.url}\n        title={data.name}\n      />\n      <CardContent>\n        <Typography gutterBottom variant=\"h5\" component=\"h2\">\n          {data.name}\n        </Typography>\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n          {data.description.length > 200\n            ? `${data.description.substring(0, 200)}...`\n            : data.description}\n        </Typography>\n        <CountDown data={data} />\n        <Button\n          className=\"pt-2\"\n          variant=\"contained\"\n          color=\"primary\"\n          component={Link}\n          to={`/product/${data._id}?isEvent=true`} // Add link to the product\n          style={{ marginRight: \"10px\" }}\n        >\n          Xem chi tiết\n        </Button>\n        <Button\n          variant=\"contained\"\n          color=\"secondary\"\n          onClick={() => addToCartHandler(data)}\n        >\n          Thêm vào giỏ\n        </Button>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default EventCard;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}